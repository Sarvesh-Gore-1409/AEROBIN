<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Authority Dashboard | AeroBins</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
</head>

<body>

    <!-- Top Navbar -->
    <nav class="navbar glass" style="position: fixed; width: 100%; top: 0; z-index: 1000;">
        <div class="container nav-content" style="max-width: 100%; padding: 0 2rem;">
            <a href="index.html" class="logo">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M4 22h14a2 2 0 0 0 2-2V7.5L12 2 4 7.5V20a2 2 0 0 0 2 2z"></path>
                    <path d="M12 2v5.5"></path>
                    <path d="M12 22v-6.5"></path>
                    <path d="M8 7.5l4-2.5 4 2.5"></path>
                </svg>
                AeroBins <span
                    style="font-size: 0.9rem; font-weight: 400; color: var(--text-light); margin-left: 0.5rem; background: #e2e8f0; padding: 2px 8px; border-radius: 4px;">Admin
                    Authority</span>
            </a>
            <div class="nav-links">
                <a href="route.html" class="active"
                    style="display: flex; align-items: center; gap: 0.5rem; background: rgba(0, 200, 83, 0.1); padding: 0.5rem 1rem; border-radius: 8px; color: var(--primary-green);">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <polygon points="3 11 22 2 13 21 11 13 3 11"></polygon>
                    </svg>
                    Route
                </a>
                <div style="display: flex; align-items: center; gap: 1rem;">
                    <div style="text-align: right;">
                        <span style="display: block; font-weight: 600; font-size: 0.9rem;">Officer Sharma</span>
                        <span style="display: block; font-size: 0.75rem; color: var(--text-light);">Nagar Nigam Zone
                            4</span>
                    </div>
                    <div
                        style="width: 40px; height: 40px; background: var(--primary-green); border-radius: 50%; color: white; display: flex; align-items: center; justify-content: center; font-weight: 700;">
                        OS</div>
                </div>
            </div>
        </div>
    </nav>

    <div class="dashboard-container">
        <!-- Sidebar: List of Dustbins -->
        <aside class="sidebar">
            <div style="padding: 1.5rem; border-bottom: 1px solid #e2e8f0;">
                <h3 style="margin-bottom: 0.5rem;">Monitored Zones</h3>
                <div style="display: flex; gap: 0.5rem;">
                    <input type="text" id="bin-search" placeholder="Search bin ID..." oninput="filterBins(this.value)"
                        style="flex: 1; padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: 6px;">
                    <button
                        style="padding: 0.5rem; background: #f1f5f9; border: 1px solid #e2e8f0; border-radius: 6px;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="11" cy="11" r="8"></circle>
                            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                        </svg>
                    </button>
                </div>
            </div>

            <div id="bin-list" style="flex: 1; overflow-y: auto;">
                <!-- Bin Items will be injected by JS -->
            </div>
        </aside>

        <!-- Main Map Area -->
        <main class="map-area">
            <div id="map" class="mock-map">
                <!-- SVG for Routes -->
                <svg id="route-layer" class="route-svg" viewBox="0 0 100 100" preserveAspectRatio="none">
                    <!-- Dynamic Lines -->
                </svg>

                <!-- Depot Marker -->
                <div class="dustbin-marker"
                    style="left: 10%; top: 90%; background: #2563eb; width: 32px; height: 32px; z-index: 20;"
                    title="Central Depot">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round"
                        style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                    </svg>
                </div>

                <!-- Simple CSS Roads for visual context -->
                <div class="mock-road" style="left: 10%; top: 0; width: 10px; height: 100%;"></div>
                <div class="mock-road" style="left: 0; top: 50%; width: 100%; height: 10px;"></div>
                <div class="mock-road" style="left: 40%; top: 0; width: 10px; height: 60%;"></div>
                <div class="mock-road" style="left: 10%; top: 60%; width: 70%; height: 10px; transform: rotate(15deg);">
                </div>

            </div>

            <!-- Route Info Overlay -->
            <div id="route-card" class="map-overlay-card">
                <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                    <div>
                        <h4 style="font-size: 1.1rem; font-weight: 700;">Route Optimized</h4>
                        <p style="color: var(--success); font-size: 0.9rem; font-weight: 500;">Shortest Path Found</p>
                    </div>
                    <button onclick="document.getElementById('route-card').classList.remove('visible')"
                        style="background:none; border:none; cursor:pointer;">âœ•</button>
                </div>

                <div class="route-info"
                    style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem; text-align: center;">
                    <div>
                        <div style="font-size: 0.8rem; color: var(--text-light);">Distance</div>
                        <div id="route-dist" style="font-weight: 700; font-size: 1.1rem;">-</div>
                    </div>
                    <div>
                        <div style="font-size: 0.8rem; color: var(--text-light);">Time</div>
                        <div id="route-time" style="font-weight: 700; font-size: 1.1rem;">-</div>
                    </div>
                    <div>
                        <div style="font-size: 0.8rem; color: var(--text-light);">Priority</div>
                        <div id="route-priority" style="font-weight: 700; font-size: 1.1rem; color: var(--danger);">High
                        </div>
                    </div>
                </div>

                <div style="margin-top: 1.5rem;">
                    <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.75rem;">
                        <div
                            style="width: 30px; height: 30px; background: #e2e8f0; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            ðŸš›</div>
                        <div>
                            <div style="font-size: 0.9rem; font-weight: 600;">Dispatch Truck #42</div>
                            <div style="font-size: 0.75rem; color: var(--text-light);">Available at Depot</div>
                        </div>
                    </div>
                    <button class="btn btn-primary" style="width: 100%;" onclick="dispatchTruck()">Confirm
                        Dispatch</button>
                </div>
            </div>
        </main>
    </div>

    <!-- Notification Container -->
    <div id="toast-container" class="toast-container"></div>

    <script src="js/main.js"></script>
</body>

</html>